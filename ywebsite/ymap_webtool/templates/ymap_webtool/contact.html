{% extends "ymap_webtool/base.html" %}

<!--template inheritance: add page title-->
{% block title %}Contact{% endblock %}

<!--template inheritance: in case something else is needed in the head-->
{% block head %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
{% endblock %}

<!--template inheritance: add the class "active in the block *_class corresponding to the current page -->
{% block contact_class %}active{% endblock %}">


<!--template inheritance: add content -->
{% block content %}

<!--------------------------------------------------------------CONTACT FORM--------------------------------------------------------------->

    <header class="body">
            <p class="contact_header font_header fs_big">SEND US A MESSAGE</p>
    </header>

    <section class="body">
        
         <!--use to align the field-->
         {% load widget_tweaks %} 
            <!-- the form was written using the tuto below, I do not understand every single part-->         
            <!-- https://simpleisbetterthancomplex.com/article/2017/08/19/how-to-render-django-form-manually.html-->

            <form class="contact_form" method="post" action= "send_email">
            <!--action specify the scipt to be use to send the data -->            
                        
                        
                        <!-- django protection against Cross Site Request Forgery-->
                        {% csrf_token %}
                        
                        <!--this is use if you have hidden filed in your django form -->
                        {% for hidden_field in form.hidden_fields %}
                            {{ hidden_field }}
                        {% endfor %}
                        
                        <!--this is use to keep the HTML form input with their styling instead of having it generated by django without any styling--> 
                         {% if form.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                              {% for error in form.non_field_errors %}
                                {{ error }}
                              {% endfor %}
                            </div>
                        {% endif %}
                      
                        <!--this define how the django form will be displayed in the HTML--> 
                        <!-- add CSS class in all places where you find class-->
                        {% for field in form.visible_fields %}
                            <div class="form-group">
                              {{ field.label_tag }}
                        
                              {% if form.is_bound %}
                                {% if field.errors %}
                                  {% render_field field class="form-control is-invalid contact_input" %}
                                  {% for error in field.errors %}
                                    <div class="invalid-feedback">
                                      {{ error }}
                                    </div>
                                  {% endfor %}
                                {% else %}
                                  {% render_field field class="form-control is-valid contact_input" %}
                                {% endif %}
                              {% else %}
                                {% render_field field class="form-control contact_input" %}
                              {% endif %}
                        
                              {% if field.help_text %}
                                <small class="form-text text-muted">{{ field.help_text }}</small>
                              {% endif %}
                            </div>
                          {% endfor %}
                      
                  

                       
                        
                        
                        <!--<
                        <label class="contact_label">Name</label>
                        <input class="contact_input" name="contact_name" type="text"placeholder="Enter your name">
                                    
                        <label class="contact_label">Email</label>
                        <input class="contact_input" name="contact_email" type="email" placeholder="Enter your email">
                        
                        <label class="contact_label">Subject</label>
                        <input class="contact_input" name="contact_subject" type="text" placeholder="Enter the subject of your message">
						
                        <!--<input class="contact_invisible" name="invisible">-->
                        <!--
                        <label class="contact_label">Message</label>
                        <textarea class="contact_textarea" name="contact_message" placeholder="Enter your message"></textarea>
                        -->
                        <div class="centered">
                        <input  id="contact_submit" name="contact_submit" type="submit" value="Send">
                        </div>    
            </form>
    </section>

    <footer class="body">
    </footer>

{% endblock %}

